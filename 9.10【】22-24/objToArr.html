	<!DOCTYPE html>
	<html>
	<head>
		<title></title>
	</head>
	<body>
		<p></p>
		<script type="text/javascript">
			var tree = {
				"id": 0,
				"name": "root",
				"left": {
					"id": 1,
					"name": "Simon",
					"left": {
						"id": 3,
						"name": "Carl",
						"left": {
							"id": 7,
							"name": "Lee",
							"left": {
								"id": 11,
								"name": "Fate"
							}
						},
						"right": {
							"id": 8,
							"name": "Annie",
							"left": {
								"id": 12,
								"name": "Saber"
							}
						}
					},
					"right": {
						"id": 4,
						"name": "Tony",
						"left": {
							"id": 9,
							"name": "Candy"
						}
					}
				},
				"right": {
					"id": 2,
					"name": "right",
					"left": {
						"id": 5,
						"name": "Carl",
					},
					"right": {
						"id": 6,
						"name": "Carl",
						"right": {
							"id": 10,
							"name": "Kai"
						}        
					}
				}
			}



			var menuArr = [
			[1, "Area1", -1],
			[2, "Area2", -1],
			[3, "Area1-1", 1],
			[4, "Area1-2", 1],
			[5, "Area2-1", 2],
			[6, "Area2-2", 2],
			[7, "Area1-2-3", 4],
			[8, "Area2-2-1", 6],
			[9, "Area2-2-1-1", 8],
			];
			console.log(tree);
			var op = document.querySelector("p");
			// op.innerHTML = JSON.stringify(tree);
			// op.innerHTML = op.innerHTML + "<br/>";

			// var gg = tree.right.right;
			// tree.right.right.left ={};
			// tree.right.right.left.id = 20;
			// tree.right.right.left.name ="J";
			debugger;
			var menuObject ={};
			// for(i in menuArr){
			// 	menuArr[i];
			// 	op.innerHTML = op.innerHTML + menuArr[i]+"<br/>";
			
			//第一种枚举法
			// 	if(menuArr[i][2] == -1){
			// 		menuObject[menuArr[i][0]] = {};
			// 		menuObject[menuArr[i][0]].name = menuArr[i][1];
			// 	}
			// 	else if(menuArr[i][2] == 1){
			// 		if(!menuObject[1].SubMenu){
			// 			menuObject[1].SubMenu = {};
			// 			menuObject[1].SubMenu[menuArr[i][0]] = {};
			// 			menuObject[1].SubMenu[menuArr[i][0]].name = menuArr[i][1];
			// 		}
			// 		else{
			// 			menuObject[1].SubMenu[menuArr[i][0]] = {};
			// 			menuObject[1].SubMenu[menuArr[i][0]].name = menuArr[i][1];
			// 		}

			// 	}
			// 	else if(menuArr[i][2] == 2){
			// 		if(!menuObject[2].SubMenu){
			// 			menuObject[2].SubMenu = {};
			// 			menuObject[2].SubMenu[menuArr[i][0]] = {};
			// 			menuObject[2].SubMenu[menuArr[i][0]].name = menuArr[i][1];
			// 		}
			// 		else{
			// 			menuObject[2].SubMenu[menuArr[i][0]] = {};
			// 			menuObject[2].SubMenu[menuArr[i][0]].name = menuArr[i][1];
			// 		}

			// 	}
			// 	else if(menuArr[i][2] == 3){
			// 		if(!menuObject[1].SubMenu[3].SubMenu){
			// 			menuObject[1].SubMenu[3].SubMenu = {};
			// 			menuObject[1].SubMenu[3].SubMenu[menuArr[i][0]] = {};
			// 			menuObject[1].SubMenu[3].SubMenu[menuArr[i][0]].name = menuArr[i][1];
			// 		}
			// 		else{
			// 			menuObject[1].SubMenu[3].SubMenu[menuArr[i][0]] = {};
			// 			menuObject[1].SubMenu[3].SubMenu[menuArr[i][0]].name = menuArr[i][1];
			// 		}

			// 	}
			// 	else if(menuArr[i][2] == 4){
			// 		if(!menuObject[1].SubMenu[4].SubMenu){
			// 			menuObject[1].SubMenu[4].SubMenu = {};
			// 			menuObject[1].SubMenu[4].SubMenu[menuArr[i][0]] = {};
			// 			menuObject[1].SubMenu[4].SubMenu[menuArr[i][0]].name = menuArr[i][1];
			// 		}
			// 		else{
			// 			menuObject[1].SubMenu[4].SubMenu[menuArr[i][0]] = {};
			// 			menuObject[1].SubMenu[4].SubMenu[menuArr[i][0]].name = menuArr[i][1];
			// 		}

			// 	}
			// 	else if(menuArr[i][2] == 5){
			// 		if(!menuObject[2].SubMenu[5].SubMenu){
			// 			menuObject[2].SubMenu[5].SubMenu = {};
			// 			menuObject[2].SubMenu[5].SubMenu[menuArr[i][0]] = {};
			// 			menuObject[2].SubMenu[5].SubMenu[menuArr[i][0]].name = menuArr[i][1];
			// 		}
			// 		else{
			// 			menuObject[2].SubMenu[5].SubMenu[menuArr[i][0]] = {};
			// 			menuObject[2].SubMenu[5].SubMenu[menuArr[i][0]].name = menuArr[i][1];
			// 		}

			// 	}
			// 	else if(menuArr[i][2] == 6){
			// 		if(!menuObject[2].SubMenu[6].SubMenu){
			// 			menuObject[2].SubMenu[6].SubMenu = {};
			// 			menuObject[2].SubMenu[6].SubMenu[menuArr[i][0]] = {};
			// 			menuObject[2].SubMenu[6].SubMenu[menuArr[i][0]].name = menuArr[i][1];
			// 		}
			// 		else{
			// 			menuObject[2].SubMenu[6].SubMenu[menuArr[i][0]] = {};
			// 			menuObject[2].SubMenu[6].SubMenu[menuArr[i][0]].name = menuArr[i][1];
			// 		}
			// 	}

			//第二种枚举法
			// 	else
			// 		{
			// 			var b = [];
			// 			flag = 0 ;
			// 			var ll = getListWithDLR(menuObject,menuArr[i][2]);
			// 			if (ll.length == 1) {
			// 				if(!menuObject[ll[0]].SubMenu){
			// 					menuObject[ll[0]].SubMenu = {};
			// 					menuObject[ll[0]].SubMenu[menuArr[i][0]] = {};
			// 					menuObject[ll[0]].SubMenu[menuArr[i][0]].name = menuArr[i][1];
			// 				}
			// 				else{
			// 					menuObject[ll[0]].SubMenu[menuArr[i][0]] = {};
			// 					menuObject[ll[0]].SubMenu[menuArr[i][0]].name = menuArr[i][1]
			// 				}
			// 			}
			// 			else if(ll.length == 2){
			// 				if(!menuObject[ll[0]].SubMenu[ll[1]].SubMenu){
			// 					menuObject[ll[0]].SubMenu[ll[1]].SubMenu = {};
			// 					menuObject[ll[0]].SubMenu[ll[1]].SubMenu[menuArr[i][0]] = {};
			// 					menuObject[ll[0]].SubMenu[ll[1]].SubMenu[menuArr[i][0]].name = menuArr[i][1];
			// 				}
			// 				else{
			// 					menuObject[ll[0]].SubMenu[ll[1]].SubMenu[menuArr[i][0]] = {};
			// 					menuObject[ll[0]].SubMenu[ll[1]].SubMenu[menuArr[i][0]].name = menuArr[i][1];	
			// 				}
			// 			}
			// 		}
			// 	}

			//终极方法 用到了eval
			for(i in menuArr){
				menuArr[i];
				op.innerHTML = op.innerHTML + menuArr[i]+"<br/>";
				if(menuArr[i][2] == -1){
					menuObject[menuArr[i][0]] = {};
					menuObject[menuArr[i][0]].name = menuArr[i][1];
				}				
				else{
					var xxxx = {};

					var b = [];
					flag = 0 ;
					var ll = getListWithDLR(menuObject,menuArr[i][2]);

					var  nhqg;

					for(x = 0 ; x < ll.length ;x++)
					{
						if(x == 0){
							nhqg = "menuObject[" + ll[x] + "]";
						}
						else{
							nhqg = nhqg + ".SubMenu[" + ll[x] + "]";
						}
					}

					xxxx = eval(nhqg);
					if(!xxxx.SubMenu){
						debugger;
						xxxx.SubMenu = {};
						xxxx.SubMenu[menuArr[i][0]] = {};
						xxxx.SubMenu[menuArr[i][0]].name = menuArr[i][1];
					}
					else{
						xxxx.SubMenu[menuArr[i][0]] = {};
						xxxx.SubMenu[menuArr[i][0]].name = menuArr[i][1];
					}
				}					
			}
				


console.log(JSON.stringify(menuObject));
op.innerHTML = JSON.stringify(menuObject);


function getListWithDLR(obj , n) {           
	if(obj) {debugger;
		for( var j in obj)
		{
			if ( j =="SubMenu" || !isNaN(j)) {
				getListWithDLR(obj[j],n);
				if(!isNaN(j)){
					b.unshift(j);
					if(j != n && !flag)
					{
						b.pop();
					}
					else{
						flag = 1;
						console.log(b);
						op.innerHTML = op.innerHTML + "\n" + "<br/>" + b;
						return b;
					}
				}
			}
		}
	}
}

	        // console.log("前序遍历对象中的所有名字");
	        

	    </script>

	</body>
	</html>
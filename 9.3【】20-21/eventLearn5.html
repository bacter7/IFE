<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Random color example — event handler property</title>

</head>
<body>
  <div id="fade-fade-obj" style="width:300px;height:300px;background:#000"></div>
  <button id="fade-btn">淡出</button>
  <script>
    var obt = document.getElementById('fade-btn');

    obt.onclick = function() {
      debugger;
      var obj = document.getElementById('fade-fade-obj');
      var group = {obt,obj}
      obt.disabled = true ;
      if (obt.textContent == "淡出") 
      {
        obj.style.opacity = 1;
        var st = setInterval(fadeOut,1000,group) ;
      }
      else
      {
        obj.style.opacity = 0;
        var st = setInterval(fadeIn,1000) ;
      }

          //淡出
          function fadeOut(group){
            debugger;
        var obt = document.getElementById('fade-btn');
      var obj = document.getElementById('fade-fade-obj');
      // var obt = group.obt;
      // var obj = group.obj;
      console.log(obj.style.opacity);
      obj.style.opacity -= 0.1;
      if(obj.style.opacity == 0)
      {
        obt.textContent = "淡入"
        obt.disabled = false ;
        alert("完成淡出");
        clearInterval(st);

      }

    }


      //淡入
      function fadeIn()
      {debugger;
        var obt = document.getElementById('fade-btn');
        var obj = document.getElementById('fade-fade-obj');
        console.log(obj.style.opacity);
        obj.style.opacity =  parseFloat(obj.style.opacity) + 0.1;
        if(obj.style.opacity == 1)
        {
          obt.textContent = "淡出";
          obt.disabled = false ;
          alert("完成淡入");
          clearInterval(st);
          
        }

      }

    }

  </script>
</body>
</html>